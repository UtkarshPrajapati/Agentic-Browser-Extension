<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agent Sidebar</title>
  <link rel="stylesheet" href="sidepanel.css" />
</head>
<body>
  <div id="app">
    <header class="sp-header">
      <div class="header-left">
        <img src="icons/logo.png" alt="Logo" class="logo">
        <h1>Agent Sidebar</h1>
      </div>
      <div>
        <button id="clear-chat" title="Clear chat">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg>
        </button>
        <!-- removed collapse button -->
      </div>
    </header>

    <section class="sp-settings">
      <details>
        <summary>Settings</summary>
        <label>
          OpenRouter API Key
          <input id="openrouter-key" type="password" placeholder="sk-or-..." />
        </label>
        <label>
          Model
          <input id="model" type="text" value="anthropic/claude-3.7-sonnet" />
        </label>
        <label>
          Allowlist (comma-separated domains)
          <input id="allowlist" type="text" placeholder="example.com, another.com" />
        </label>
        <button id="save-settings">Save</button>
      </details>
    </section>

    <section class="sp-chat">
      <div id="messages" class="messages"></div>
      <form id="chat-form">
        <input id="user-input" type="text" placeholder="Ask about this page or say what to do..." autocomplete="off" />
        <button type="submit" title="Send">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="m22 2-11 11"/></svg>
          <span class="loader"></span>
        </button>
      </form>
    </section>
  </div>

  <script type="module" src="sidepanel.js"></script>
  <script type="module" src="vendor/safeSelector.js"></script>
  <script type="module" src="vendor/schema.js"></script>
  <script type="module" src="vendor/ui.js"></script>
  <script type="module" src="vendor/util.js"></script>
</body>
</html>

